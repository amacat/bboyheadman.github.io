<!DOCTYPE html>
<html>
<head>
	<title>Roll</title>
	<script type="text/javascript" src="../vk/jquery.js"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<style type="text/css">
	.desc{
		width: 20px; 
		height: 20px; 
		position: fixed; 
		top: calc(50% - 10px);
		left: calc(50% - 10px);
		background-color: black;
		transition-duration: 0.1s;
	}
	td{
		width: 20px;
		height: 20px;
		background: #fff333;
	}
	.cell{
		position: fixed;
		width: 20px;
		height: 20px;
		transition-duration: 0.1s;
	}
	.cell:hover{
		background-color: black;
	}
	div[name='w']{
		background-color: white;
	}
	div[name='r']{
		background-color: red;
	}
	</style>
</head>
<body>
<button class="get">GetLevel</button>
<button class="set">SetLevel</button>
<div class="divs"></div>
<div class="desc"></div>
<script type="text/javascript">

function move(side) {
	switch(side){
		case "left":
			$(".desc").css("left","-=20px");
			break;
		case "up":
			$(".desc").css("top","-=20px");
			break;
		case "right":
			$(".desc").css("left","+=20px");
			break;
		case "down":
			$(".desc").css("top","+=20px");
			break;

	}
}

function setColor(element){
	// console.log(element[0].getAttribute("name"));
	switch(element[0].getAttribute("name")){
		case 'w':
			$(element[0]).attr("name", "r")
			console.log(element[0])
			break;
		case 'r':
			$(element[0]).attr("name", "w")
			console.log(element[0])
			break;
	}
		// $(element).attr('name', 'w');
}

$(document).ready(function(){
	$("html").bind("keydown", function(code){
		switch(code.keyCode){
			case 37:
				console.log("left");
				move("left");
				break;
			case 38:
				console.log("up");
				move("up");
				break;
			case 39:
				console.log("right");
				move("right");
				break;
			case 40:
				console.log("down");
				move("down");
				break;

		}
	});

	$(".get").bind("click", function(){
		// $(".table").css("background-color","green");
		var level = "";
		$.each($(".divs").children(), function(key, value){
			level += value.getAttribute("name");
		})
		prompt("level", level);
	});

	$(".set").bind("click", function(){
		// $(".table").css("background-color","green");
		var lvl = prompt("enter level");
		$.each($(".divs").children(), function(key, value){
			$(value).attr("name", lvl[key]);	
		})
	});

	var width = 21;
	for (var i = 0; i<width; i++){
		for (var j = 0; j<width; j++){
			$(".divs").append($("<div class='cell' name='r' onclick=\"setColor($(this));\" style='top:calc("+50+"% - "+((20*(width-j))-width*10)+"px);left:calc("+50+"% - "+((20*(width-i))-width*10)+"px)'></div>"))
		}
	}


});
</script>
</body>
</html>